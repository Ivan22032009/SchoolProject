<!DOCTYPE html>
<html>
<head>
    <title>Підтвердження Email</title>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
          const token = new URLSearchParams(window.location.search).get('token');
          
          try {
            const response = await fetch(`/api/verify-email?token=${token}`);
            const message = await response.text();
            document.getElementById('message').innerHTML = message;
            
            if (response.ok) {
              document.getElementById('message').style.color = 'green';
              setTimeout(() => window.location.href = 'login.html', 3000);
            }
          } catch (error) {
            document.getElementById('message').textContent = 'Помилка верифікації';
            document.getElementById('message').style.color = 'red';
          }
        });
        </script>
</head>
<body>
    <h1 id="message">Завантаження...</h1>
</body>
</html>
